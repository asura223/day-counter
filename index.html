<script>
const targetInput = document.getElementById('targetDate');
const resultDiv = document.getElementById('result');
const infoDiv = document.getElementById('info');

function updateCounter() {
    const targetVal = targetInput.value;
    if (!targetVal) {
        resultDiv.textContent = '';
        infoDiv.textContent = '';
        return;
    }

    const today = new Date();
    const target = new Date(targetVal);

    today.setHours(0,0,0,0);
    target.setHours(0,0,0,0);

    const diffMs = target - today;
    const diffDays = Math.round(diffMs / (1000 * 60 * 60 * 24));

    if (diffDays > 0) {
        resultDiv.textContent = `D-${diffDays}`;
        infoDiv.textContent = `${target.toLocaleDateString()} 까지 ${diffDays}일 남았습니다.`;
    } else if (diffDays === 0) {
        resultDiv.textContent = `D-Day!`;
        infoDiv.textContent = `오늘이 바로 D-Day입니다!`;
    } else {
        resultDiv.textContent = `D+${Math.abs(diffDays)}`;
        infoDiv.textContent = `${target.toLocaleDateString()} 는 이미 지난 ${Math.abs(diffDays)}일 전입니다.`;
    }
}

targetInput.addEventListener('input', updateCounter);
</script>
